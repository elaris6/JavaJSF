<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <head>
        <title>ManagedBeans JSF</title>
    </head>
    <body>
        <h:outputLabel value="ManagedBeans CDI en JSF"/>
        <h:form>
            <!--  -->
            <h:messages globalOnly="true"></h:messages>
            
            <table>
                <tr>
                    <td><h:outputLabel for="nombre" value="Nombre:"></h:outputLabel></td>
                    <td><h:inputText id="nombre" required="true" value="#{candidato.nombre}"></h:inputText></td>
                    <td><h:message for="nombre"></h:message></td>
                </tr>
                <tr>
                    <td><h:outputLabel for="apellido" value="Apellido:"></h:outputLabel></td>
                    <td><h:inputText id="apellido" required="true" value="#{candidato.apellido}"></h:inputText></td>
                    <td><h:message for="apellido"></h:message></td>
                </tr>
                <tr>
                    <td><h:outputLabel for="salario" value="Salario deseado:"/></td>
                    <!-- En este caso al ser un tipo primitivo, se puede realizar la conversión directamente con un atributo
                    del "inputText", ya que el Framework es capaz de gestionar estos tipos por si mismo. -->
                    <td><h:inputText id="salario" required="true" value="#{candidato.salarioDeseado}" converter="javax.faces.Integer">
                            <!-- Validaciones directas en el xhtml -->
                            <f:validateLongRange minimum="500" maximum="5000"/>
                        </h:inputText>
                    </td>
                    <td><h:message for="salario"></h:message></td>
                </tr>
                <tr>
                    <td><h:outputLabel for="fechaNacimiento" value="Fecha de Nacimiento:"></h:outputLabel></td>
                    <td><h:inputText id="fechaNacimiento" required="true" value="#{candidato.fechaNacimiento}">
                            <!-- En este caso es necesario generar un convertidor específico, ya que el tipo Date no es gestionado de manera
                            automática por el framework.
                            El convertidor se debe incluir dentro de la etiqueta del elemento XML "inputText". -->
                            <f:convertDateTime pattern="dd/MM/yyyy"></f:convertDateTime>
                        </h:inputText>
                    </td>
                    <td><h:message for="fechaNacimiento"></h:message></td>
                </tr>
            </table>
            <!-- Se informa como valor de "action" el nombre de la página destino
            o como en este caso, un método que devolverá en función de una lógica,
            la página destino deseada. -->
            <h:commandButton action="#{vacanteForm.enviar()}" value="Enviar"></h:commandButton>
        </h:form>
    </body>
</html>
